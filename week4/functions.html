<!doctype html>
<html>
<head>
	<title>MMP 310 - Week 4</title>
	<meta charset="utf-8" />
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	
	<link rel="stylesheet" href="../slides/highlight/github-gist.css" type="text/css" />
	<script src="../slides/highlight/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
	<link rel="stylesheet" href="../slides/slides.css" type="text/css" />
	<script src="../slides/p5.min.js"></script>
	<script src="../slides/bkg.js"></script>
	<script src="../slides/slides.js"></script>
</head>
<body>
	<div id="container" class="slides">
		<div class="slide">
			<h1>JavaScript functions</h1>
			<p><a href="https://github.com/owenroberts/mmp310">MMP 310</a> > <a href="https://github.com/owenroberts/mmp310/tree/master/week4">Week 4</a></p>
		</div>

		<div class="slide">
			<p>Functions are blocks of code that can be called repeatedly.  Functions are defined like variables but have parentheses following the function name.  Arguments can be placed inside the parathensis.</p>
		</div>

		<div class="slide">
			<p>Two function declarations:</p>
			<pre><code>function foo() {
	alert("Hello :)");
}</code></pre>
<pre><code>var bar = function() {
	alert("world");
};</code></pre>
			<p>I tend to prefer <em>named</em> functions like the second example, but both are valid.</p>
			<p>Notice how nothing happens after we declare the function.  The function is defined, but the code won't run until it is called:</p>
			<pre><code>foo();
bar();</code></pre>
		</div>

		<div class="slide">
			<p>The function in the previous example isn't very useful.  We can just as easily write out <code>alert("world");</code> as we can <code>myFunction()</code>.  Even if there were more lines, if they only do one thing, it's not that useful.  What makes functions useful and modular is arguments.  We can use arguments to change the output of a function.</p>
			<p>Think of a function like a machine that has a series of actions.  For example, a car can drive from one place to another, as many times as you want it to.  But that's not very useful if there's no one in the car.  You can put anyone you want to in a car and take them wherever you want.  If we think of a car as a function it has many possible inputs: people, an origin and destination, the amount of gas, speed, radio channel, etc.  And these input have a result.  People are carried from one place to another.</p>
		</div>

		<div class="slide">
			<p>Let's write a function with arguments.</p>
			<pre><code>var greet = function(name, greeting) {
	var text = greeting + ", " + name;
	alert(text);
};

greet("Jenny", "Hello");
greet("Jerry", "Hi");</code></pre>
		</div>

		<div class="slide">
			<p>Now check what happens if we call the function with out arguments:</p>
			<pre><code>greet();</code></pre>
			<p>Why is this <code>undefined, undefined</code>?</p>
			<p>The variables that are created for the arguments of the function, in this case <code>name</code> and <code>greeting</code> and implicity instantiated when the function is called.</p>
			<p>So, even though we never wrote <code>var name;</code> or <code>var greeting;</code> they are instantiated, and when an variabled is instantiated but not assigned, it has the value <code>undefined</code>.  Because we did not call our function with the right number of arguments, those values stay undefined.</p>
		</div>
		<div class="slide">
			<p>Open up the console and try these lines:</p>
			<pre><code><c></c>q + w;
<c></c>var q, w;
<c></c>q;
<c></c>q + w;
<c></c>var q = 2, w = 2;
<c></c>q + w;</code></pre>
			<p><code>NaN</code> or "Not a Number" is the result of trying to add two undefined variables.  This is still preferable to the error that q throws before it is instantiated by the line <code>var q, w;</code>.  This line created those variables, but does not assign them, which is why they are <code>undefined</code> until they are assigned.</p>
		</div>
		<div class="slide">
			<h2>How do we know if we have the right arguments?</h2>
			<p>Because JavaScript will not throw an error if we try to call a function with the wrong number of arguments, it does provide an <code>arguments</code> variable, which is set to an array of whatever arguments are entered.  For example:</p>
			<pre><code>var tooManyArguments = function(){
	console.log(arguments);
};
tooManyArguments(1,2,"Jerry", "Jenny");</code></pre>
		</div>
		<div class="slide">
			<p>If we want to make sure we have the right arguments we can test for length, type or other properties.</p>
			<pre><code>var greet = function(name, greeting) {
	if (arguments.length > 1) {
		console.log(greeting + ", " + name);
	} else {
		console.log("Not enough arguments for a greeting :(");
	}
};
greet("Jerry");</code></pre>
<pre><code>var printName = function(name) {
	if (typeof name == "string") console.log(name);
};
printName("Jerry");
printName(1);</code></pre>
		</div>
		<div class="slide">
			<p>Functions can also <code>return</code> values:</p>
			<pre><code>var add = function(n1, n2) {
	return n1 + n2;
};
var x = add(2, 2);
var y = add(x, 2);
var z = add(x, y);
console.log(add(x, y, z));</code></pre>
		</div>

		<div class="slide">
			<h2>Anonymous functions</h2>
			<p>Regular JavaScript functions need to be called after they are declared.  There are cases where we want a function to run immediately. These are anonymous functions, which self execute:</p>
			<pre><code>(function() {
	var x = "Hello world";
	alert(x);
})();</code></pre>
			<pre><code>(function(x) {
	alert(x);
})("Hello world.");</code></pre>
		</div>

		<div class="slide">
			<p><span class="note">A quick note on scope:</span> We'll talk about scope in more detail later in the semester, but at this point it's important to realize that variables declared within a function are not available to other functions in our program.</p>
			<p>Read more on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#Implicit_globals_and_outer_function_scope" target="blank">scope</a>.</p>
		</div>

		<div class="slide">
			<p>Bad scope example:</p>
			<pre><code>var assign = function() {
	var x = 0;
	var y = 1;
};
var add = function() {
	console.log(x + y);
};
assign();
add();</code></pre>
		</div>

		<div class="slide">
			<p>Better scope example:</p>
			<pre><code>var x; 
var y;
var assign = function() {
	x = 0;
	y = 1;
};
var add = function() {
	console.log(x + y);
};
assign();
add();</code></pre>
		</div>

		<div class="slide">
			<p>More on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions" target="blank">functions</a>.</p>
		</div>
		
</body>
</html>
