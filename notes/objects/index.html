---
layout: slides
title: Objects
week: 7
---

<div class="slide">
	<p>Throughout the semester we have seen examples of objects in JavaScript.  In fact, basically everything in JavaScript is an object, including arrays, functions, and anything that has methods or properties.</p>
	<p>JavaScript is based on an object oriented programming design.  This means the language is organized around objects.</p>
	<p>So far we haven't written any objects of our own, but today we will start.</p>
</div>

<div class="slide">
	<h2>Object members</h2>
	<p>Simply put, and object is a collection of properties and methods.</p>
	<p>Properties and methods are assigned with key value pairs.</p>
</div>

<div class="slide">
	<p>In a key value pair, the key is a string and the value can be any JavaScript value, a number, string, array, function or another object.</p>
	<p>Single values like numbers, strings and booleans are called <note>properties</note>, while functions are called <note>methods</note>.</p>
</div>

<div class="slide">
	<table class="code">
		<tr>
			<th>key</th>
			<th>value</th>
		</tr>
		<tr>
			<td>color</td>
			<td>"blue"</td>
		</tr>
		<tr>
			<td>length</td>
			<td>7</td>
		</tr>
		<tr>
			<td>push</td>
			<td>function() { }</td>
		</tr>
		<tr>
			<td>pop</td>
			<td>function() { }</td>
		</tr>
	</table>
</div>

<div class="slide">
	<p>For the Array object, <code>.length</code> is a property and <code>.push()</code> is a method.</p><p>An array is an object that contains key values for each of the elements in the array as well as other methods and properties.</p>
</div>

<div class="slide">
	<pre><code class="javascript">var fruit = ["banana.jpg", "orange.jpg", "kiwi.jpg"];</code></pre>
	<table class="code">
		<tr>
			<th>key</th>
			<th>value</th>
		</tr>
		<tr>
			<td>0</td>
			<td>"banana.jpg"</td>
		</tr>
		<tr>
			<td>1</td>
			<td>"orange.jpg"</td>
		</tr>
		<tr>
			<td>2</td>
			<td>"kiwi.jpg"</td>
		</tr>
		<tr>
			<td>length</td>
			<td>3</td>
		</tr>
		<tr>
			<td>push</td>
			<td>function() {}</td>
		</tr>
		<tr>
			<td>pop</td>
			<td>function() {}</td>
		</tr>
	</table>
</div>

<div class="slide">
	<h2>Object literal</h2>
	<p>There are many ways to create objects in JavaScript.  Today we'll start with an <note>object literal</note>.  A literal in JavaScript is a statement that uses fixed values, like the properties we will assgin our object.</p>
	<p>Declaring an object can be as simple as the following statement.</p>
	<pre><code>var spaceship = {};</code></pre>
</div>

<div class="slide">
	<p>The curly brackets that we have previously see to define code blocks for functions, loops and conditional statements, are also used to define an object.</p>
</div>

<div class="slide">
	<p>Inside our <code>spaceship</code> literal we can define some properties of the spaceship.</p>
	<pre><code>var spaceship = {
	x: 0,
	y: 0
};</code></pre>
	<p>Within an object literal, properties are assignment with the name followed by a colon and then the value, then a comma to separate the next key value pair.</p>
</div>

<div class="slide">
	<p>Here we can see that the variables of our program are simplified, instead of having two separate variables for x and y, we have an object that contains both values.</p>
	<p>Let's add some code to draw the spaceship and move it across the screen.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>var spaceship = {
	x: 0,
	y: 200
};

function draw() {
	background(51);

	// draw a spaceship
	fill('white');
	noStroke();
	triangle(spaceship.x, spaceship.y, spaceship.x + 50, spaceship.y + 100, spaceship.x - 50, spaceship.y + 100);

	// move left and right with arrow keys
	if (keyIsDown(LEFT_ARROW)) {
		spaceship.x -= 5;
	}
	if (keyIsDown(RIGHT_ARROW)) {
		spaceship.x += 5;
	}
}</div>
</div>

<div class="slide">
	<h2>Dot notation</h2>
	<p>The above example uses <note>dot notation</note> to set or access the properties of the spaceship object.</p>
	<pre><code>object.property // returns values
object.property = 0; // set value</code></pre>
</div>

<div class="slide">
	<p>In the example, <code>spaceship.x</code> and <code>spaceship.y</code> are first accessed to draw the triangle to represent the spaceship visually.</p>
	<p>Then, the <code>spaceship.x</code> value is set, or updated, using <code>spaceship.x += 5;</code> when the user presses a key.</p>
</div>

<div class="slide">
	<h2>Bracket notation</h2>
	<p>We won't be using it for these examples, but the properties of objects can also be accessed using bracket notation, like in an array, but with key values instead of number indexes.</p>
	<pre><code>spaceship['x'] += 5;
spaceship['y'] += 5;</code></pre>
</div>

<div class="slide">
	<p>Looking at the above example, how can we add more properties to the spaceship?  What values in our code can be captured with properties?</p>
	<p>Any hard coded value could be a variable, right?</p>
	<p>Now we can add those values to our object.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>var spaceship = {
	x: 0,
	y: 200,
	size: 100,
	speed: 5
};

function draw() {
	background(51);

	// draw a spaceship
	fill('white');
	noStroke();
	triangle(spaceship.x, spaceship.y, spaceship.x + spaceship.size/2, spaceship.y + spaceship.size, spaceship.x - spaceship.size/2, spaceship.y + spaceship.size);

	// move left and right with arrow keys
	if (keyIsDown(LEFT_ARROW)) {
		spaceship.x -= spaceship.speed;
	}
	if (keyIsDown(RIGHT_ARROW)) {
		spaceship.x += spaceship.speed;
	}
}</div>
</div>

<div class="slide">
	<p>By adding these values to the <code>spaceship</code> object, we can organize the properties in one variable with multiple properties, making out code easier to understand and update.</p>
	<p>So far we've only added values with properties, but we can further simplify our code, and make it more object oriented, by adding some methods.</p>
</div>

<div class="slide">
	<p>As we start to build a more complex program to create a game, we want to think of the <code>draw</code> function as the sort of main function in our code.  To better organize the draw function, we can use objects that display and update themselves, so our main function isn't cluttered with the code of specific parts of each component.</p>
</div>

<div class="slide">
	<p>First we'll take the code that draws the spaceship and add it to the object.</p>
	<div class="ex">var spaceship = {
	x: 0,
	y: 200,
	size: 100,
	speed: 5,
	display: function() {
		fill('white');
		noStroke();
		triangle(spaceship.x, spaceship.y, spaceship.x + spaceship.size/2, spaceship.y + spaceship.size, spaceship.x - spaceship.size/2, spaceship.y + spaceship.size);
	}
};</div>
</div>

<div class="slide">
	<p>For methods that are part of an object, we can use the <code>this</code> keyword to replace references to that object.</p>
</div>

<div class="slide">
	<p>First we'll take the code that draws the spaceship and add it to the object.</p>
	<div class="ex">var spaceship = {
	x: 0,
	y: 200,
	size: 100,
	speed: 5,
	display: function() {
		fill('white');
		noStroke();
		triangle(this.x, this.y, this.x + this.size/2, this.y + this.size, this.x - this.size/2, this.y + this.size);
	}
};</div>
</div>

<div class="slide">
	<p>Next we can take the code that updates the position of the spaceship to create the <code>update</code> function.</p>
	<div class="ex">var spaceship = {
	x: 0,
	y: 200,
	size: 100,
	speed: 5,
	display: function() {
		fill('white');
		noStroke();
		triangle(this.x, this.y, this.x + this.size/2, this.y + this.size, this.x - this.size/2, this.y + this.size);
	},
	update: function() {
		if (keyIsDown(LEFT_ARROW)) {
			this.x -= this.speed;
		}
		if (keyIsDown(RIGHT_ARROW)) {
			this.x += this.speed;
		}
	}
};</div>
</div>

<div class="slide">
	<p>Let's finish the example and see the simplified <code>draw</code> function.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>var spaceship = {
	x: 0,
	y: 200,
	size: 100,
	speed: 5,
	display: function() {
		fill('white');
		noStroke();
		triangle(this.x, this.y, this.x + this.size/2, this.y + this.size, this.x - this.size/2, this.y + this.size);
	},
	update: function() {
		if (keyIsDown(LEFT_ARROW)) {
			this.x -= thisthisthis.speed;
		}
		if (keyIsDown(RIGHT_ARROW)) {
			this.x += thisthis.speed;
		}
	}
};

function draw() {
	background(51);

	spaceship.display();
	spaceship.update();
}</div>
</div>